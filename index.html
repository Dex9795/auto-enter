<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>T√°ch nhi·ªÅu c√¢u h·ªèi tr·∫Øc nghi·ªám</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 900px; margin: auto; }
    textarea { width: 100%; height: 200px; margin-bottom: 10px; }
    button { padding: 10px 20px; font-size: 16px; }
    .output { white-space: pre-wrap; background: #f9f9f9; border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin-top: 20px; }
  </style>
</head>
<body>

<h2>üîç D√°n nhi·ªÅu c√¢u h·ªèi tr·∫Øc nghi·ªám (m·ªói c√¢u tr√™n 1 d√≤ng):</h2>
<textarea id="input"></textarea>
<br>
<button onclick="process()">T√°ch c√¢u h·ªèi</button>

<h2>üìÑ K·∫øt qu·∫£:</h2>
<div class="output" id="output"></div>

<script>
function process() {
  const inputText = document.getElementById('input').value.trim();
  const lines = inputText.split(/\n+/);
  let result = "";
  let count = 1;

  lines.forEach((line) => {
    const questionMatch = line.match(/C√¢u\s*\d+\.\s*(.*?)(?=A\.)/i);
    const aMatch = line.match(/A\.(.*?)(?=B\.)/i);
    const bMatch = line.match(/B\.(.*?)(?=C\.)/i);
    const cMatch = line.match(/C\.(.*?)(?=D\.)/i);
    const dMatch = line.match(/D\.(.*?)(?=‚Üí|$)/i);
    const answerMatch = line.match(/‚Üí\s*ƒê√°p √°n ƒë√∫ng\s*:\s*([A-D])/i);

    const questionText = questionMatch ? questionMatch[1].trim() : null;
    const aText = aMatch ? aMatch[1].trim() : "";
    const bText = bMatch ? bMatch[1].trim() : "";
    const cText = cMatch ? cMatch[1].trim() : "";
    const dText = dMatch ? dMatch[1].trim() : "";
    const answerLetter = answerMatch ? answerMatch[1].toUpperCase() : null;

    if (!questionText || !answerLetter) return;

    result += `C√¢u ${count++}. ${questionText}\n\n`;
    result += `A. ${aText}\n`;
    result += `B. ${bText}\n`;
    result += `C. ${cText}\n`;
    result += `D. ${dText}\n\n`;

    let correctAnswerText = "";
    switch (answerLetter) {
      case "A": correctAnswerText = aText; break;
      case "B": correctAnswerText = bText; break;
      case "C": correctAnswerText = cText; break;
      case "D": correctAnswerText = dText; break;
    }

    result += `ƒê√°p √°n ƒë√∫ng: ${answerLetter}. ${correctAnswerText}\n`;
    result += `Gi·∫£i th√≠ch: ƒê√°p √°n ƒë√∫ng l√† ${answerLetter}. ${correctAnswerText}\n`;
    result += "\n" + "-".repeat(40) + "\n\n";
  });

  document.getElementById('output').innerText = result || "‚ùå Kh√¥ng th·ªÉ t√°ch ƒë∆∞·ª£c. Vui l√≤ng ki·ªÉm tra ƒë·ªãnh d·∫°ng!";
}
</script>

</body>
</html>
